#N canvas 0 23 643 417 10;
#X obj 14 38 inlet;
#N canvas 526 211 467 529 weightedAverage 0;
#X obj 38 23 inlet;
#X obj 242 20 inlet;
#X obj 38 429 outlet;
#X obj 219 123 list;
#X obj 57 371 list prepend;
#X obj 38 396 list;
#X obj 57 309 +;
#X obj 156 388 t l;
#X obj 57 342 /;
#X obj 140 23 inlet;
#X obj 302 20 inlet;
#X obj 287 325 +;
#X obj 57 206 *;
#X obj 157 253 *;
#X obj 57 164 t a b;
#N canvas 188 98 705 575 drip 0;
#X obj 73 94 t a a;
#X obj 73 251 spigot;
#X obj 112 159 bang;
#X obj 112 178 1;
#X obj 233 159 route bang;
#X obj 193 160 bang;
#X obj 193 179 0;
#X obj 112 124 list split 2;
#X obj 242 389 list split;
#X obj 309 338 list length;
#X obj 309 360 >> 1;
#X obj 73 270 t a a a a;
#X obj 73 456 list split;
#X obj 140 408 list length;
#X obj 140 433 >> 1;
#X obj 41 29 inlet;
#X obj 300 185 outlet;
#X text 83 29 Copyright 2009 by Mathieu Bouchard;
#X obj 41 63 t b a;
#X connect 0 0 1 0;
#X connect 0 1 7 0;
#X connect 1 0 11 0;
#X connect 2 0 3 0;
#X connect 3 0 1 1;
#X connect 4 1 16 0;
#X connect 5 0 6 0;
#X connect 6 0 1 1;
#X connect 7 0 2 0;
#X connect 7 2 4 0;
#X connect 7 2 5 0;
#X connect 8 0 0 0;
#X connect 9 0 10 0;
#X connect 10 0 8 1;
#X connect 11 0 12 0;
#X connect 11 1 13 0;
#X connect 11 2 8 0;
#X connect 11 3 9 0;
#X connect 12 1 0 0;
#X connect 13 0 14 0;
#X connect 14 0 12 1;
#X connect 15 0 18 0;
#X connect 18 1 0 0;
#X restore 57 140 pd drip;
#N canvas 233 201 450 300 dripslow 0;
#X obj 158 196 list split 1;
#X obj 158 171 list append;
#X obj 158 247 outlet;
#X obj 158 47 inlet;
#X obj 239 247 outlet;
#X obj 232 45 inlet;
#X obj 158 82 b;
#X text 275 46 list;
#X text 113 47 bang;
#X text 283 247 EOL;
#X text 99 246 element;
#X obj 239 217 b;
#X connect 0 0 2 0;
#X connect 0 1 1 1;
#X connect 0 2 11 0;
#X connect 1 0 0 0;
#X connect 3 0 6 0;
#X connect 5 0 1 1;
#X connect 6 0 1 0;
#X connect 11 0 4 0;
#X restore 156 224 pd dripslow;
#X obj 38 50 t b l b b;
#X obj 287 429 outlet;
#X connect 0 0 17 0;
#X connect 1 0 3 1;
#X connect 3 0 16 1;
#X connect 4 0 5 1;
#X connect 4 0 7 0;
#X connect 5 0 2 0;
#X connect 6 0 8 0;
#X connect 7 0 4 1;
#X connect 8 0 4 0;
#X connect 9 0 11 0;
#X connect 9 0 12 1;
#X connect 10 0 11 1;
#X connect 10 0 13 1;
#X connect 11 0 8 1;
#X connect 11 0 18 0;
#X connect 12 0 6 0;
#X connect 13 0 6 1;
#X connect 14 0 12 0;
#X connect 14 1 16 0;
#X connect 15 0 14 0;
#X connect 16 0 13 0;
#X connect 17 0 5 0;
#X connect 17 1 15 0;
#X connect 17 2 3 0;
#X connect 17 3 4 1;
#X restore 102 141 pd weightedAverage;
#X obj 184 81 inlet;
#X obj 102 288 outlet;
#X obj 143 59 inlet;
#X obj 225 104 inlet;
#X text 184 58 TIV 1: energy;
#X text 266 104 TIV 2: energy;
#X text 228 81 TIV 2;
#X obj 152 287 outlet;
#X text 226 266 // normalize;
#X obj 152 262 / 32.8633;
#X obj 340 287 outlet;
#X obj 14 104 route weights;
#X obj 393 77 loadbang;
#X obj 393 99 symbol \$1;
#X obj 393 121 sel audio symbolic;
#X msg 445 163 2 7 16 17 19 11;
#N canvas 0 22 450 300 vectorNorm 0;
#X obj 262 172 0;
#X obj 182 53 inlet;
#X obj 166 271 outlet;
#X obj 166 216 f;
#N canvas 0 22 450 300 drip 0;
#X obj 63 84 t a a;
#X obj 63 241 spigot;
#X obj 102 149 bang;
#X obj 102 168 1;
#X obj 183 150 bang;
#X obj 183 169 0;
#X obj 102 114 list split 2;
#X obj 232 379 list split;
#X obj 299 328 list length;
#X obj 299 350 >> 1;
#X obj 63 260 t a a a a;
#X obj 63 446 list split;
#X obj 130 398 list length;
#X obj 130 423 >> 1;
#X obj 31 19 inlet;
#X obj 269 178 outlet;
#X text 73 19 Copyright 2009 by Mathieu Bouchard;
#X obj 31 53 t b a;
#X obj 465 119 outlet;
#X text 520 121 signal end of list;
#X text 381 23 made compatible with [list-drip]: fbar 2009;
#X obj 223 149 route bang float;
#X connect 0 0 1 0;
#X connect 0 1 6 0;
#X connect 1 0 10 0;
#X connect 2 0 3 0;
#X connect 3 0 1 1;
#X connect 4 0 5 0;
#X connect 5 0 1 1;
#X connect 6 0 2 0;
#X connect 6 2 4 0;
#X connect 6 2 21 0;
#X connect 7 0 0 0;
#X connect 8 0 9 0;
#X connect 9 0 7 1;
#X connect 10 0 11 0;
#X connect 10 1 12 0;
#X connect 10 2 7 0;
#X connect 10 3 8 0;
#X connect 11 1 0 0;
#X connect 12 0 13 0;
#X connect 13 0 11 1;
#X connect 14 0 17 0;
#X connect 17 0 18 0;
#X connect 17 1 0 0;
#X connect 21 1 15 0;
#X restore 182 104 pd drip;
#X obj 166 238 sqrt;
#X text 116 23 // vector norm (L2 norm);
#X obj 182 188 +;
#X obj 212 189 f;
#X obj 182 81 t l b;
#X obj 182 129 t f f;
#X obj 182 151 *;
#X connect 0 0 8 0;
#X connect 1 0 9 0;
#X connect 3 0 5 0;
#X connect 4 0 10 0;
#X connect 4 1 3 0;
#X connect 5 0 2 0;
#X connect 7 0 3 1;
#X connect 7 0 8 0;
#X connect 8 0 7 1;
#X connect 9 0 4 0;
#X connect 9 1 0 0;
#X connect 10 0 11 0;
#X connect 10 1 11 1;
#X connect 11 0 7 0;
#X restore 393 245 pd vectorNorm;
#N canvas 0 22 450 300 vectorNorm 0;
#X obj 262 172 0;
#X obj 182 53 inlet;
#X obj 166 271 outlet;
#X obj 166 216 f;
#N canvas 0 22 450 300 drip 0;
#X obj 63 84 t a a;
#X obj 63 241 spigot;
#X obj 102 149 bang;
#X obj 102 168 1;
#X obj 183 150 bang;
#X obj 183 169 0;
#X obj 102 114 list split 2;
#X obj 232 379 list split;
#X obj 299 328 list length;
#X obj 299 350 >> 1;
#X obj 63 260 t a a a a;
#X obj 63 446 list split;
#X obj 130 398 list length;
#X obj 130 423 >> 1;
#X obj 31 19 inlet;
#X obj 269 178 outlet;
#X text 73 19 Copyright 2009 by Mathieu Bouchard;
#X obj 31 53 t b a;
#X obj 465 119 outlet;
#X text 520 121 signal end of list;
#X text 381 23 made compatible with [list-drip]: fbar 2009;
#X obj 223 149 route bang float;
#X connect 0 0 1 0;
#X connect 0 1 6 0;
#X connect 1 0 10 0;
#X connect 2 0 3 0;
#X connect 3 0 1 1;
#X connect 4 0 5 0;
#X connect 5 0 1 1;
#X connect 6 0 2 0;
#X connect 6 2 4 0;
#X connect 6 2 21 0;
#X connect 7 0 0 0;
#X connect 8 0 9 0;
#X connect 9 0 7 1;
#X connect 10 0 11 0;
#X connect 10 1 12 0;
#X connect 10 2 7 0;
#X connect 10 3 8 0;
#X connect 11 1 0 0;
#X connect 12 0 13 0;
#X connect 13 0 11 1;
#X connect 14 0 17 0;
#X connect 17 0 18 0;
#X connect 17 1 0 0;
#X connect 21 1 15 0;
#X restore 182 104 pd drip;
#X obj 166 238 sqrt;
#X text 116 23 // vector norm (L2 norm);
#X obj 182 188 +;
#X obj 212 189 f;
#X obj 182 81 t l b;
#X obj 182 129 t f f;
#X obj 182 151 *;
#X connect 0 0 8 0;
#X connect 1 0 9 0;
#X connect 3 0 5 0;
#X connect 4 0 10 0;
#X connect 4 1 3 0;
#X connect 5 0 2 0;
#X connect 7 0 3 1;
#X connect 7 0 8 0;
#X connect 8 0 7 1;
#X connect 9 0 4 0;
#X connect 9 1 0 0;
#X connect 10 0 11 0;
#X connect 10 1 11 1;
#X connect 11 0 7 0;
#X restore 152 235 pd vectorNorm;
#X obj 102 167 t l l;
#X text 385 289 // energy;
#X text 203 289 // consonance;
#X msg 393 143 3 7.5 15 11.5 14.5 8;
#X text 57 37 TIV 1 and weights;
#X text 102 313 // (combined) TIV;
#X connect 0 0 13 0;
#X connect 1 0 20 0;
#X connect 1 1 12 0;
#X connect 2 0 1 2;
#X connect 4 0 1 1;
#X connect 5 0 1 3;
#X connect 11 0 9 0;
#X connect 13 0 16 0;
#X connect 13 1 1 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 23 0;
#X connect 16 1 17 0;
#X connect 16 2 18 0;
#X connect 17 0 18 0;
#X connect 18 0 11 1;
#X connect 19 0 11 0;
#X connect 20 0 3 0;
#X connect 20 1 19 0;
#X connect 23 0 18 0;
