#N canvas 466 194 561 374 10;
#X obj 190 52 inlet;
#X obj 308 320 outlet;
#N canvas 587 23 390 689 dft 0;
#X obj 66 381 +;
#X obj 47 452 +;
#X obj 78 452 f;
#X obj 96 381 f;
#X obj 28 550 pack;
#X obj 304 319 f;
#X obj 332 318 + 1;
#X obj 47 302 t f f b;
#X obj 185 230 f;
#X obj 214 231 + 1;
#X obj 11 21 inlet;
#X obj 28 168 list;
#X obj 28 72 list length;
#X obj 28 144 until;
#X obj 28 502 f;
#X obj 28 191 t b l b;
#X obj 28 96 t f f;
#X obj 66 355 expr $f1*sin(2*3.14159*$f2*$f3/$f4);
#X obj 47 424 expr $f1*cos(2*3.14159*$f2*$f3/$f4);
#X obj 142 533 * -1;
#X obj 28 576 list prepend;
#X obj 126 593 t l;
#X obj 11 610 list;
#X obj 11 44 t b l l b;
#X obj 11 633 outlet;
#X obj 200 181 0;
#X obj 319 208 0;
#X obj 28 120 expr int($f1/2)+1;
#N canvas 188 98 705 575 drip 0;
#X obj 73 94 t a a;
#X obj 73 251 spigot;
#X obj 112 159 bang;
#X obj 112 178 1;
#X obj 233 159 route bang;
#X obj 193 160 bang;
#X obj 193 179 0;
#X obj 112 124 list split 2;
#X obj 242 389 list split;
#X obj 309 338 list length;
#X obj 309 360 >> 1;
#X obj 73 270 t a a a a;
#X obj 73 456 list split;
#X obj 140 408 list length;
#X obj 140 433 >> 1;
#X obj 41 29 inlet;
#X obj 300 185 outlet;
#X text 83 29 Copyright 2009 by Mathieu Bouchard;
#X obj 41 63 t b a;
#X connect 0 0 1 0;
#X connect 0 1 7 0;
#X connect 1 0 11 0;
#X connect 2 0 3 0;
#X connect 3 0 1 1;
#X connect 4 1 16 0;
#X connect 5 0 6 0;
#X connect 6 0 1 1;
#X connect 7 0 2 0;
#X connect 7 2 4 0;
#X connect 7 2 5 0;
#X connect 8 0 0 0;
#X connect 9 0 10 0;
#X connect 10 0 8 1;
#X connect 11 0 12 0;
#X connect 11 1 13 0;
#X connect 11 2 8 0;
#X connect 11 3 9 0;
#X connect 12 1 0 0;
#X connect 13 0 14 0;
#X connect 14 0 12 1;
#X connect 15 0 18 0;
#X connect 18 1 0 0;
#X restore 47 272 pd drip;
#X connect 0 0 3 0;
#X connect 0 0 19 0;
#X connect 1 0 2 0;
#X connect 1 0 14 1;
#X connect 2 0 1 1;
#X connect 3 0 0 1;
#X connect 4 0 20 0;
#X connect 5 0 6 0;
#X connect 5 0 17 1;
#X connect 5 0 18 1;
#X connect 6 0 5 1;
#X connect 7 0 18 0;
#X connect 7 1 17 0;
#X connect 7 2 5 0;
#X connect 8 0 9 0;
#X connect 8 0 17 2;
#X connect 8 0 18 2;
#X connect 9 0 8 1;
#X connect 10 0 23 0;
#X connect 11 0 15 0;
#X connect 12 0 16 0;
#X connect 13 0 11 0;
#X connect 14 0 4 0;
#X connect 15 0 14 0;
#X connect 15 1 28 0;
#X connect 15 2 8 0;
#X connect 15 2 26 0;
#X connect 16 0 27 0;
#X connect 16 1 18 3;
#X connect 16 1 17 3;
#X connect 17 0 0 0;
#X connect 18 0 1 0;
#X connect 19 0 4 1;
#X connect 20 0 21 0;
#X connect 20 0 22 1;
#X connect 21 0 20 1;
#X connect 22 0 24 0;
#X connect 23 0 22 0;
#X connect 23 1 12 0;
#X connect 23 2 11 1;
#X connect 23 3 20 1;
#X connect 23 3 25 0;
#X connect 25 0 8 1;
#X connect 26 0 5 1;
#X connect 26 0 0 1;
#X connect 26 0 1 1;
#X connect 27 0 13 0;
#X connect 28 0 7 0;
#X restore 308 124 pd dft;
#X obj 363 320 outlet;
#X obj 419 320 outlet;
#N canvas 128 23 816 539 weights&L1Norm 1;
#X obj 37 19 inlet;
#X obj 165 102 list;
#X obj 37 473 outlet;
#X obj 37 416 list;
#X obj 56 365 list prepend;
#X obj 162 382 t a;
#X obj 56 283 t f b;
#X obj 56 150 unpack;
#X obj 56 174 t b f;
#X obj 56 202 list;
#X obj 37 85 t b l b;
#X obj 266 473 outlet;
#X text 313 472 (amp);
#X text 85 473 (vector);
#X obj 56 114 list split 2;
#X obj 483 26 loadbang;
#X obj 257 19 r \$0-weights;
#X msg 257 85 \$1 \$1 \$6 \$6 \$4 \$4 \$3 \$3 \$5 \$5 \$2 \$2;
#X msg 483 68 2 7 16 17 19 11;
#N canvas 188 98 705 575 drip 0;
#X obj 73 94 t a a;
#X obj 73 251 spigot;
#X obj 112 159 bang;
#X obj 112 178 1;
#X obj 233 159 route bang;
#X obj 193 160 bang;
#X obj 193 179 0;
#X obj 112 124 list split 2;
#X obj 242 389 list split;
#X obj 309 338 list length;
#X obj 309 360 >> 1;
#X obj 73 270 t a a a a;
#X obj 73 456 list split;
#X obj 140 408 list length;
#X obj 140 433 >> 1;
#X obj 41 29 inlet;
#X obj 300 185 outlet;
#X text 83 29 Copyright 2009 by Mathieu Bouchard;
#X obj 41 63 t b a;
#X connect 0 0 1 0;
#X connect 0 1 7 0;
#X connect 1 0 11 0;
#X connect 2 0 3 0;
#X connect 3 0 1 1;
#X connect 4 1 16 0;
#X connect 5 0 6 0;
#X connect 6 0 1 1;
#X connect 7 0 2 0;
#X connect 7 2 4 0;
#X connect 7 2 5 0;
#X connect 8 0 0 0;
#X connect 9 0 10 0;
#X connect 10 0 8 1;
#X connect 11 0 12 0;
#X connect 11 1 13 0;
#X connect 11 2 8 0;
#X connect 11 3 9 0;
#X connect 12 1 0 0;
#X connect 13 0 14 0;
#X connect 14 0 12 1;
#X connect 15 0 18 0;
#X connect 18 1 0 0;
#X restore 56 230 pd drip;
#N canvas 233 201 450 300 dripslow 0;
#X obj 158 196 list split 1;
#X obj 158 171 list append;
#X obj 158 247 outlet;
#X obj 158 47 inlet;
#X obj 239 247 outlet;
#X obj 232 45 inlet;
#X obj 158 82 b;
#X text 275 46 list;
#X text 113 47 bang;
#X text 283 247 EOL;
#X text 99 246 element;
#X obj 239 217 b;
#X connect 0 0 2 0;
#X connect 0 1 1 1;
#X connect 0 2 11 0;
#X connect 1 0 0 0;
#X connect 3 0 6 0;
#X connect 5 0 1 1;
#X connect 6 0 1 0;
#X connect 11 0 4 0;
#X restore 102 300 pd dripslow;
#X obj 56 339 expr $f1*$f2/$f3;
#N canvas 0 22 450 300 vectorNorm 0;
#X obj 212 223 f 0;
#X obj 182 222 + 1;
#X obj 212 198 0;
#X obj 182 53 inlet;
#X obj 182 81 t a b;
#X obj 166 305 outlet;
#X obj 166 250 f;
#N canvas 0 22 450 300 drip 0;
#X obj 63 84 t a a;
#X obj 63 241 spigot;
#X obj 102 149 bang;
#X obj 102 168 1;
#X obj 223 149 route bang;
#X obj 183 150 bang;
#X obj 183 169 0;
#X obj 102 114 list split 2;
#X obj 232 379 list split;
#X obj 299 328 list length;
#X obj 299 350 >> 1;
#X obj 63 260 t a a a a;
#X obj 63 446 list split;
#X obj 130 398 list length;
#X obj 130 423 >> 1;
#X obj 31 19 inlet;
#X obj 290 175 outlet;
#X text 73 19 Copyright 2009 by Mathieu Bouchard;
#X obj 31 53 t b a;
#X obj 465 119 outlet;
#X text 520 121 signal end of list;
#X text 381 23 made compatible with [list-drip]: fbar 2009;
#X connect 0 0 1 0;
#X connect 0 1 7 0;
#X connect 1 0 11 0;
#X connect 2 0 3 0;
#X connect 3 0 1 1;
#X connect 4 1 16 0;
#X connect 5 0 6 0;
#X connect 6 0 1 1;
#X connect 7 0 2 0;
#X connect 7 2 4 0;
#X connect 7 2 5 0;
#X connect 8 0 0 0;
#X connect 9 0 10 0;
#X connect 10 0 8 1;
#X connect 11 0 12 0;
#X connect 11 1 13 0;
#X connect 11 2 8 0;
#X connect 11 3 9 0;
#X connect 12 1 0 0;
#X connect 13 0 14 0;
#X connect 14 0 12 1;
#X connect 15 0 18 0;
#X connect 18 0 19 0;
#X connect 18 1 0 0;
#X restore 182 114 pd drip;
#X obj 182 140 t f f;
#X obj 182 162 *;
#X obj 166 272 sqrt;
#X text 116 23 // vector norm (L2 norm);
#X connect 0 0 1 1;
#X connect 1 0 0 0;
#X connect 1 0 6 1;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 4 1 2 0;
#X connect 6 0 10 0;
#X connect 7 0 8 0;
#X connect 7 1 6 0;
#X connect 8 0 9 0;
#X connect 8 1 9 1;
#X connect 9 0 1 0;
#X connect 10 0 5 0;
#X restore 483 138 pd vectorNorm;
#X obj 483 463 outlet;
#X text 533 451 (vector norm);
#X text 535 469 (normalizing factor);
#X obj 257 41 route list symbolic audio;
#X msg 628 68 3 7.5 15 11.5 14.5 8;
#X connect 0 0 10 0;
#X connect 1 0 20 1;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 4 1;
#X connect 6 0 21 0;
#X connect 6 1 20 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 8 1 11 0;
#X connect 8 1 21 2;
#X connect 9 0 19 0;
#X connect 10 0 3 0;
#X connect 10 1 14 0;
#X connect 10 2 1 0;
#X connect 10 2 4 1;
#X connect 14 0 7 0;
#X connect 14 1 9 1;
#X connect 15 0 18 0;
#X connect 16 0 26 0;
#X connect 17 0 1 1;
#X connect 18 0 17 0;
#X connect 18 0 22 0;
#X connect 19 0 6 0;
#X connect 20 0 21 1;
#X connect 21 0 4 0;
#X connect 22 0 23 0;
#X connect 26 0 17 0;
#X connect 26 0 22 0;
#X connect 26 1 18 0;
#X connect 26 2 27 0;
#X connect 27 0 22 0;
#X connect 27 0 17 0;
#X restore 308 174 pd weights&L1Norm;
#X obj 308 197 t l l;
#X text 229 51 (chroma);
#X text 432 294 // normalize;
#X obj 308 148 list split 14;
#X obj 190 135 s \$0-weights;
#X obj 190 107 route weights;
#X obj 39 52 loadbang;
#X obj 39 74 symbol \$1;
#X msg 39 118 audio;
#X msg 100 118 symbolic;
#X obj 39 96 sel audio symbolic;
#N canvas 0 22 450 300 vectorNorm 0;
#X obj 262 172 0;
#X obj 182 53 inlet;
#X obj 166 271 outlet;
#X obj 166 216 f;
#N canvas 0 22 450 300 drip 0;
#X obj 63 84 t a a;
#X obj 63 241 spigot;
#X obj 102 149 bang;
#X obj 102 168 1;
#X obj 183 150 bang;
#X obj 183 169 0;
#X obj 102 114 list split 2;
#X obj 232 379 list split;
#X obj 299 328 list length;
#X obj 299 350 >> 1;
#X obj 63 260 t a a a a;
#X obj 63 446 list split;
#X obj 130 398 list length;
#X obj 130 423 >> 1;
#X obj 31 19 inlet;
#X obj 269 178 outlet;
#X text 73 19 Copyright 2009 by Mathieu Bouchard;
#X obj 31 53 t b a;
#X obj 465 119 outlet;
#X text 520 121 signal end of list;
#X text 381 23 made compatible with [list-drip]: fbar 2009;
#X obj 223 149 route bang float;
#X connect 0 0 1 0;
#X connect 0 1 6 0;
#X connect 1 0 10 0;
#X connect 2 0 3 0;
#X connect 3 0 1 1;
#X connect 4 0 5 0;
#X connect 5 0 1 1;
#X connect 6 0 2 0;
#X connect 6 2 4 0;
#X connect 6 2 21 0;
#X connect 7 0 0 0;
#X connect 8 0 9 0;
#X connect 9 0 7 1;
#X connect 10 0 11 0;
#X connect 10 1 12 0;
#X connect 10 2 7 0;
#X connect 10 3 8 0;
#X connect 11 1 0 0;
#X connect 12 0 13 0;
#X connect 13 0 11 1;
#X connect 14 0 17 0;
#X connect 17 0 18 0;
#X connect 17 1 0 0;
#X connect 21 1 15 0;
#X restore 182 104 pd drip;
#X obj 166 238 sqrt;
#X text 116 23 // vector norm (L2 norm);
#X obj 182 188 +;
#X obj 212 189 f;
#X obj 182 81 t l b;
#X obj 182 129 t f f;
#X obj 182 151 *;
#X connect 0 0 8 0;
#X connect 1 0 9 0;
#X connect 3 0 5 0;
#X connect 4 0 10 0;
#X connect 4 1 3 0;
#X connect 5 0 2 0;
#X connect 7 0 3 1;
#X connect 7 0 8 0;
#X connect 8 0 7 1;
#X connect 9 0 4 0;
#X connect 9 1 0 0;
#X connect 10 0 11 0;
#X connect 10 1 11 1;
#X connect 11 0 7 0;
#X restore 363 267 pd vectorNorm;
#X obj 363 293 / 32.8633;
#X connect 0 0 11 0;
#X connect 2 0 9 0;
#X connect 5 0 6 0;
#X connect 5 1 4 0;
#X connect 5 2 18 1;
#X connect 6 0 1 0;
#X connect 6 1 17 0;
#X connect 9 0 5 0;
#X connect 11 0 10 0;
#X connect 11 1 2 0;
#X connect 12 0 13 0;
#X connect 13 0 16 0;
#X connect 14 0 10 0;
#X connect 15 0 10 0;
#X connect 16 0 14 0;
#X connect 16 1 15 0;
#X connect 17 0 18 0;
#X connect 18 0 3 0;
