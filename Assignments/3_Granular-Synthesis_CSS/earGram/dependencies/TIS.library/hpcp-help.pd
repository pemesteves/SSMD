#N canvas 1264 552 732 492 10;
#X msg 313 331 normalize \$1;
#X obj 313 309 tgl 15 0 empty empty empty 17 7 0 10 -260097 -1 -1 0
1;
#X obj 13 3 cnv 15 700 60 empty empty hpcp 20 12 0 14 -233017 -66577
0;
#N canvas 510 304 494 344 META 0;
#X text 12 45 LICENSE GPL v3;
#X text 12 202 RELEASE_DATE 2013;
#X text 12 182 WEBSITE https://sites.google.com/site/eargram/;
#X text 12 162 AUTHOR Gilberto Bernardes;
#X text 12 25 KEYWORDS;
#X text 12 142 LIBRARY earGram_abs;
#X text 12 65 DESCRIPTION harmonic pitch class profile or chroma;
#X text 12 84 INLET_0 list;
#X text 13 103 INLET_1 float (nr peaks to analyze);
#X text 14 122 OUTLET_0 list (hpcp);
#X restore 672 469 pd META;
#N canvas 0 23 379 200 openFile 0;
#X obj 34 43 openpanel;
#X obj 34 109 soundfiler;
#X obj 34 21 inlet;
#X obj 34 65 pack s \$0;
#X obj 114 109 table \$0-sample;
#X msg 34 87 read -resize \$1 \$2-sample;
#X obj 34 131 outlet;
#X connect 0 0 3 0;
#X connect 1 0 6 0;
#X connect 2 0 0 0;
#X connect 3 0 5 0;
#X connect 5 0 1 0;
#X restore 25 134 pd openFile;
#X obj 25 111 bng 15 250 50 0 empty empty open_file 17 7 0 10 -260097
-1 -1;
#X msg 131 331 npeak \$1;
#X msg 206 331 samplerate \$1;
#X obj 25 236 +;
#X obj 53 236 + 8192;
#X obj 113 219 0;
#X obj 25 209 until;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-chromagramNRT 12 float 3;
#A 0 0.484842 0.853445 0.767815 0.81399 0.695793 0.927295 0.697613
0.760202 0.842674 0.839358 1 0.633004;
#X coords 0 1 12 0 196 140 1 0 0;
#X restore 493 292 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-chromaNRT 12 float 3;
#A 0 0.0768875 0.13652 0.110856 0.105816 0.120386 0.130179 0.147099
0.157988 0.214948 0.0972191 0.118414 0.113705;
#X coords 0 1 12 0 196 140 1 0 0;
#X restore 493 110 graph;
#X text 522 32 Gilberto Bernardes et al.;
#X text 634 47 INESC TEC;
#X text 31 43 Harmonic pitch class profile;
#X obj 25 260 pack f \$0;
#X msg 25 284 analyze \$1 16384 \$2-sample 44100;
#X obj 206 309 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-260097 -1 -1 0 256;
#X obj 131 309 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-260097 -1 -1 200 256;
#X obj 113 359 bng 15 250 50 0 empty empty clear 17 7 0 10 -260097
-1 -1;
#N canvas 266 55 321 301 chromagram 0;
#X obj 34 29 inlet;
#N canvas 0 22 450 300 list 0;
#N canvas 0 22 199 262 drip 0;
#X obj 53 174 list split 1;
#X obj 53 91 until;
#X obj 53 129 list append;
#X obj 79 58 t b l;
#X obj 135 176 bang;
#X obj 79 31 inlet;
#X obj 53 199 outlet;
#X connect 0 0 6 0;
#X connect 0 1 2 1;
#X connect 0 2 4 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 3 1 2 1;
#X connect 4 0 1 1;
#X connect 5 0 3 0;
#X restore 152 84 pd drip;
#X obj 153 219 list prepend;
#X obj 251 219 t a;
#N canvas 0 22 450 300 dripslow 0;
#X obj 158 196 list split 1;
#X obj 158 171 list append;
#X obj 158 247 outlet;
#X obj 158 47 inlet;
#X obj 239 247 outlet;
#X obj 232 45 inlet;
#X obj 158 82 b;
#X text 275 46 list;
#X text 113 47 bang;
#X text 283 247 EOL;
#X text 99 246 element;
#X obj 239 217 b;
#X connect 0 0 2 0;
#X connect 0 1 1 1;
#X connect 0 2 11 0;
#X connect 1 0 0 0;
#X connect 3 0 6 0;
#X connect 5 0 1 1;
#X connect 6 0 1 0;
#X connect 11 0 4 0;
#X restore 205 141 pd dripslow;
#X obj 268 106 inlet;
#X obj 152 110 t f b;
#X obj 132 254 list;
#X obj 152 182 + 0;
#X obj 133 24 inlet;
#X obj 132 274 outlet;
#X obj 132 50 t b a b;
#X msg 167 157 0;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 1 0 6 1;
#X connect 2 0 1 1;
#X connect 3 0 7 1;
#X connect 4 0 3 1;
#X connect 5 0 7 0;
#X connect 5 1 3 0;
#X connect 6 0 9 0;
#X connect 7 0 1 0;
#X connect 8 0 10 0;
#X connect 10 0 6 0;
#X connect 10 1 0 0;
#X connect 10 2 1 1;
#X connect 10 2 11 0;
#X connect 11 0 7 1;
#X restore 75 76 pd list add;
#X obj 160 93 list;
#N canvas 0 22 232 353 list 0;
#X obj 35 130 route float;
#X obj 16 232 f;
#X obj 16 259 outlet;
#X obj 16 20 inlet;
#N canvas 0 22 450 300 once 0;
#X obj 110 75 inlet;
#X obj 105 187 spigot 1;
#X obj 110 104 t b f;
#X msg 125 151 0;
#X msg 165 99 1;
#X obj 165 63 inlet;
#X obj 102 219 outlet;
#X connect 0 0 2 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 2 1 1 0;
#X connect 3 0 1 1;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X restore 101 177 pd once;
#X obj 66 193 f;
#X obj 35 192 max;
#X obj 16 40 t b a b;
#X obj 35 160 t a a;
#N canvas 0 22 199 243 drip 0;
#X obj 53 174 list split 1;
#X obj 53 91 until;
#X obj 53 129 list append;
#X obj 79 58 t b l;
#X obj 135 176 bang;
#X obj 79 31 inlet;
#X obj 53 199 outlet;
#X connect 0 0 6 0;
#X connect 0 1 2 1;
#X connect 0 2 4 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 3 1 2 1;
#X connect 4 0 1 1;
#X connect 5 0 3 0;
#X restore 35 98 pd drip;
#X connect 0 0 8 0;
#X connect 1 0 2 0;
#X connect 3 0 7 0;
#X connect 4 0 6 1;
#X connect 5 0 6 1;
#X connect 6 0 5 0;
#X connect 6 0 1 1;
#X connect 7 0 1 0;
#X connect 7 1 9 0;
#X connect 7 2 4 1;
#X connect 8 0 6 0;
#X connect 8 1 4 0;
#X connect 9 0 0 0;
#X restore 167 119 pd list max;
#X obj 75 102 t l l;
#X obj 152 147 /;
#N canvas 381 107 467 423 list 0;
#X obj 96 43 inlet;
#X obj 285 62 inlet;
#X obj 161 362 outlet;
#X obj 180 258 outlet;
#X obj 161 327 list;
#X obj 285 225 list prepend;
#X obj 364 195 t a;
#X obj 161 165 t b a a b;
#X obj 96 68 route bang;
#X obj 96 93 b;
#X obj 161 94 t b a;
#X obj 161 134 list;
#N canvas 0 22 199 262 drip 0;
#X obj 53 174 list split 1;
#X obj 53 91 until;
#X obj 53 129 list append;
#X obj 79 58 t b l;
#X obj 135 176 bang;
#X obj 79 31 inlet;
#X obj 53 199 outlet;
#X connect 0 0 6 0;
#X connect 0 1 2 1;
#X connect 0 2 4 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 3 1 2 1;
#X connect 4 0 1 1;
#X connect 5 0 3 0;
#X restore 179 218 pd drip;
#X connect 0 0 8 0;
#X connect 1 0 5 0;
#X connect 4 0 2 0;
#X connect 5 0 6 0;
#X connect 5 0 4 1;
#X connect 6 0 5 1;
#X connect 7 0 4 0;
#X connect 7 1 12 0;
#X connect 7 2 4 1;
#X connect 7 3 5 1;
#X connect 8 0 9 0;
#X connect 8 1 10 0;
#X connect 9 0 11 0;
#X connect 10 0 11 0;
#X connect 10 1 11 1;
#X connect 11 0 7 0;
#X connect 12 0 3 0;
#X restore 75 149 pd list map;
#X obj 75 174 list prepend 0;
#X msg 260 98 const 0;
#X obj 260 76 inlet;
#X obj 34 239 list prepend 0;
#X obj 34 261 s \$0-chromaNRT;
#X obj 75 198 s \$0-chromagramNRT;
#X connect 0 0 1 0;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 1 1;
#X connect 3 0 5 1;
#X connect 4 0 6 0;
#X connect 4 1 3 0;
#X connect 5 0 6 1;
#X connect 6 0 7 0;
#X connect 6 1 5 0;
#X connect 7 0 12 0;
#X connect 8 0 11 0;
#X connect 8 0 12 0;
#X connect 9 0 8 0;
#X connect 9 0 2 0;
#X connect 10 0 11 0;
#X restore 25 381 pd chromagram;
#X obj 25 158 expr int(($f1-16384)/8192);
#X obj 25 181 t f b;
#X obj 25 348 hpcp 20;
#X connect 0 0 25 0;
#X connect 1 0 0 0;
#X connect 4 0 23 0;
#X connect 5 0 4 0;
#X connect 6 0 25 0;
#X connect 7 0 25 0;
#X connect 8 0 9 0;
#X connect 8 0 17 0;
#X connect 9 0 8 1;
#X connect 10 0 8 1;
#X connect 11 0 8 0;
#X connect 17 0 18 0;
#X connect 18 0 25 0;
#X connect 19 0 7 0;
#X connect 20 0 6 0;
#X connect 21 0 22 1;
#X connect 23 0 24 0;
#X connect 24 0 11 0;
#X connect 24 1 10 0;
#X connect 25 0 22 0;
